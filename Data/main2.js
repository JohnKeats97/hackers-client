!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=27)}([function(e,t,n){"use strict";function i(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=i(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=p[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(c(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(c(i.parts[o],t));p[i.id]={id:i.id,refs:1,parts:a}}}}function r(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s=o[1],l=o[2],u=o[3],c={css:s,media:l,sourceMap:u};i[a]?i[a].parts.push(c):n.push(i[a]={id:a,parts:[c]})}return n}function o(e,t){var n=v(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=b[b.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=v(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),o(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),o(e,t),t}function u(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var u=y++;n=g||(g=s(t)),i=f.bind(null,n,u,!1),r=f.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),i=h.bind(null,n,t),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),i=d.bind(null,n),r=function(){a(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function f(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function h(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=w(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var p={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),v=function(e){var t={};return function(n){if(void 0===t[n]){var i=e.call(this,n);if(i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[n]=i}return t[n]}}(function(e){return document.querySelector(e)}),g=null,y=0,b=[],w=n(68);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=r(e,t);return i(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],l=p[s.id];l.refs--,o.push(l)}if(e){i(r(e,t),t)}for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete p[l.id]}}}};var _=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function i(e,t){if(1===arguments.length){for(var n=e[0],r=1;r<e.length;r++)n=i(n,e[r]);return n}for(var o in t)if("class"===o){var a=e[o]||[];e[o]=(Array.isArray(a)?a:[a]).concat(t[o]||[])}else if("style"===o){var a=s(e[o]),l=s(t[o]);e[o]=a+l}else e[o]=t[o];return e}function r(e,t){for(var n,i="",r="",o=Array.isArray(t),s=0;s<e.length;s++)(n=a(e[s]))&&(o&&t[s]&&(n=c(n)),i=i+r+n,r=" ");return i}function o(e){var t="",n="";for(var i in e)i&&e[i]&&d.call(e,i)&&(t=t+n+i,n=" ");return t}function a(e,t){return Array.isArray(e)?r(e,t):e&&"object"==typeof e?o(e):e||""}function s(e){if(!e)return"";if("object"==typeof e){var t="";for(var n in e)d.call(e,n)&&(t=t+n+":"+e[n]+";");return t}return e+="",";"!==e[e.length-1]?e+";":e}function l(e,t,n,i){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(i?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=c(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}function u(e,t){var n="";for(var i in e)if(d.call(e,i)){var r=e[i];if("class"===i){r=a(r),n=l(i,r,!1,t)+n;continue}"style"===i&&(r=s(r)),n+=l(i,r,!1,t)}return n}function c(e){var t=""+e,n=h.exec(t);if(!n)return e;var i,r,o,a="";for(i=n.index,r=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}r!==i&&(a+=t.substring(r,i)),r=i+1,a+=o}return r!==i?a+t.substring(r,i):a}function f(e,t,i,r){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&t||r))throw e.message+=" on line "+i,e;try{r=r||n(32).readFileSync(t,"utf8")}catch(t){f(e,null,i)}var o=3,a=r.split("\n"),s=Math.max(i-o,0),l=Math.min(a.length,i+o),o=a.slice(s,l).map(function(e,t){var n=t+s+1;return(n==i?"  > ":"    ")+n+"| "+e}).join("\n");throw e.path=t,e.message=(t||"Pug")+":"+i+"\n"+o+"\n\n"+e.message,e}var d=Object.prototype.hasOwnProperty;t.merge=i,t.classes=a,t.style=s,t.attr=l,t.attrs=u;var h=/["&<>]/;t.escape=c,t.rethrow=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(4),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"baseView";i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"div",a));if(void 0===n)throw{message:"Invalid templateFunc"};return s.templateFunc=n,s.element.innerHTML=n(o),s.hide(),s}return o(t,e),a(t,[{key:"changeData",value:function(e){this.element.innerHTML=this.templateFunc(e)}}]),t}(l.default);t.default=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;i(this,e),o?this.element=o:(this.element=document.createElement(n),this.element.className=r,t.appendChild(this.element))}return r(e,[{key:"show",value:function(){for(var e=0;e<this.element.childNodes.length;e++)this.element.childNodes[e].nodeType===Node.ELEMENT_NODE&&(this.element.childNodes[e].style.visibility="visible");this.element.style.visibility="visible",this.onShow()}},{key:"hide",value:function(){for(var e=0;e<this.element.childNodes.length;e++)this.element.childNodes[e].nodeType===Node.ELEMENT_NODE&&(this.element.childNodes[e].style.visibility="hidden");this.element.style.visibility="hidden",this.onHide()}},{key:"onShow",value:function(){}},{key:"onHide",value:function(){}},{key:"addEventHandler",value:function(e,t){this.element.addEventListener(e,t)}},{key:"removeEventHandler",value:function(e,t){this.element.removeEventListener(e,t)}},{key:"move",value:function(e,t,n,i){this.element.style.left=e,this.element.style.right=n,this.element.style.top=t,this.element.style.bottom=i}},{key:"appendChildWidget",value:function(e){this.element.appendChild(e.element)}},{key:"appendChildNode",value:function(e){this.element.appendChild(e)}},{key:"clearClassList",value:function(){this.element.classList=null}},{key:"resize",value:function(e,t){this.element.style.width=e,this.element.style.height=t}},{key:"positionType",get:function(){return this.element.position},set:function(e){this.element.position=e}},{key:"background",get:function(){return this.element.style.background},set:function(e){this.element.style.background=e}},{key:"style",get:function(){return this.element.style}},{key:"className",set:function(e){this.element.className=e},get:function(){return this.element.className}},{key:"classList",get:function(){return this.classList},set:function(e){this.element.classList=e}},{key:"idName",set:function(e){this.element.id=e},get:function(){return this.element.id}},{key:"text",set:function(e){this.element.textContent=e},get:function(){return this.element.textContent}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){if(i(this,e),e.instance)return e.instance;this.subscribers=[],e.instance=this}return r(e,[{key:"subscribe",value:function(e){this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){this.subscribers.slice(this.subscribers.indexOf(e),1)}},{key:"emitEvent",value:function(e){this.subscribers.forEach(function(t){t.eventFired(e)})}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(46),l=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e),this.view=new a.default(document.body,s,{message:n,title:t},"messageBox");var l=null;this.view.element.childNodes.forEach(function(e){"okButton"===e.dataset.name&&(l=e)}),l.onclick=o?function(){o(),r.view.hide(),window.removeEventListener("resize",r.resize)}:function(){r.view.hide(),window.removeEventListener("resize",r.resize)},this.view.show(),this.resize(),window.addEventListener("resize",this.resize.bind(this)),this.resize()}return r(e,[{key:"resize",value:function(){this.view.element.style.left=(document.body.offsetWidth-this.view.element.offsetWidth)/2+"px",this.view.element.style.top=(document.documentElement.clientHeight-this.view.element.clientHeight)/2+"px"}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e)}return r(e,[{key:"show",value:function(){}},{key:"hide",value:function(){var e=document.getElementsByClassName("all_game");e[0]&&document.body.removeChild(e[0]),e=document.getElementsByClassName("h1_turn"),e[0]&&document.body.removeChild(e[0]),e=null}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(45),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(){i(this,e)}return r(e,null,[{key:"getLeaders",value:function(){return a.default.FetchGet("/leaderboard")}},{key:"getAboutText",value:function(){return a.default.FetchGet("/about")}},{key:"isValidMail",value:function(e){var t=/[0-9A-Za-z.\-\_]+@[0-9A-Za-z.\-\_]+\.[A-Za-z\-\_]+/,n=e.match(t);return null!=n&&n[0]==e}},{key:"checkUser",value:function(e,t){return a.default.FetchPost("/login",{loginEmail:e,password:t})}},{key:"registerUser",value:function(e,t,n){return a.default.FetchPost("/users",{login:t,email:e,password:n})}},{key:"getUser",value:function(){return a.default.FetchGet("/info")}},{key:"logoutUser",value:function(){return a.default.FetchGet("/logout")}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){if(i(this,e),e.__instance)return e.__instance;e.__instance=this}return r(e,[{key:"getGame",value:function(){return this.game}},{key:"setGame",value:function(e){this.game=e}},{key:"getUserName",value:function(){return this.userName}},{key:"setUserName",value:function(e){this.userName=e}},{key:"getEmemyName",value:function(){return this.ememyName}},{key:"setEmemyName",value:function(e){this.ememyName=e}},{key:"getScore",value:function(){return this.score}},{key:"setScore",value:function(e){this.score=e}},{key:"setRandomMatrix",value:function(e){this.randMatrix=e}},{key:"getRandomMatrix",value:function(){return this.randMatrix}},{key:"setRandomResponse",value:function(e){this.randResponse=e}},{key:"getRandomResponse",value:function(){return this.randResponse}}]),e}();t.default=o},function(e,t,n){function i(e){return""}n(2);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(19),s=i(a),l=n(5),u=i(l),c=new u.default,f=function(){function e(t){r(this,e),this.view=t,this.createBackButton(),this.title="Base Menu",this.url="baseUrl"}return o(e,[{key:"hide",value:function(){this.view.hide(),this.onHide()}},{key:"show",value:function(){this.view.show(),this.onShow()}},{key:"onShow",value:function(){}},{key:"onHide",value:function(){}},{key:"goBackHandler",value:function(){c.emitEvent({type:"changeMenu",newMenuName:"/"})}},{key:"deleteBackButton",value:function(){this.backButton.removeEventHandler("click",this.goBackHandler),delete this.backButton}},{key:"createBackButton",value:function(){var e=this;this.view.element.childNodes.forEach(function(t){"back"===t.dataset.id&&(e.backButton=new s.default(t),e.backButton.addEventHandler("click",e.goBackHandler))})}}]),e}();t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e=new y.default;e.getStateSocket()&&e.closeSocket(),(0,b.hideUserBlock)(!1),(new p.default).hide(),w.emitEvent({type:"changeMenu",newMenuName:"/"})}Object.defineProperty(t,"__esModule",{value:!0}),t.BackMenu=t.LoseScene=t.WinScene=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(4),c=i(u),f=n(5),d=i(f),h=n(7),p=i(h),m=n(9),v=i(m),g=n(13),y=i(g),b=n(17),w=new d.default,_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"show",value:function(){var e=new c.default(document.body,"div","all_game"),t=new c.default(document.body,"h1","youWinLose");t.text="You Win!",e.appendChildWidget(t);var n=new v.default;t=new c.default(document.body,"h1","score"),t.text=n.getScore(),e.appendChildWidget(t);var i=new c.default(document.body,"button","backButton");i.text="Back to Menu",e.appendChildWidget(i),i.element.addEventListener("click",function(){s()}),i.element.classList.add("flatLightGray")}}]),t}(p.default),k=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"show",value:function(){var e=new c.default(document.body,"div","all_game"),t=new c.default(document.body,"h1","youWinLose");t.text="You Lose!",e.appendChildWidget(t);var n=new v.default;t=new c.default(document.body,"h1","score"),t.text=n.getScore(),e.appendChildWidget(t);var i=new c.default(document.body,"button","backButton");i.text="Back to Menu",e.appendChildWidget(i),i.element.addEventListener("click",function(){s()}),i.element.classList.add("flatLightGray")}}]),t}(p.default);t.WinScene=_,t.LoseScene=k,t.BackMenu=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(9),a=(function(e){e&&e.__esModule}(o),function(){function e(){if(i(this,e),e.__instance)return e.__instance;e.__instance=this}return r(e,[{key:"openSocket",value:function(){this.socket=new WebSocket("wss://sea-battle-back.herokuapp.com/game"),this.onopenSocket(),this.oncloseSocket(),this.pingSocketStart()}},{key:"closeSocket",value:function(){this.socket.close()}},{key:"getStateSocket",value:function(){return this.state}},{key:"onopenSocket",value:function(){this.socket.onopen=function(e){this.pingSocket(),this.state=!0}.bind(this)}},{key:"oncloseSocket",value:function(){this.socket.onclose=function(e){this.state=!1}.bind(this)}},{key:"messageSocket",value:function(e){this.socket.onmessage=function(t){e(t)}}},{key:"sendSocket",value:function(e){this.socket.send(e)}},{key:"pingSocketStart",value:function(){this.messagePing={},this.messagePing.class="MsgPing",this.messagePing=JSON.stringify(this.messagePing,"")}},{key:"pingSocket",value:function(){this.sendSocket(this.messagePing)}}]),e}());t.default=a},,function(e,t,n){function i(e){var t="";return t+='<div class="button" data-id="back">Back</div>'}n(2);e.exports=i},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t={};return t.class="MsgJoinGame",t.playWithBot=1==e,t=JSON.stringify(t,"")}function o(e){var t=e.data;t=JSON.parse(t);var n=t.class;if("MsgYouInQueue"==n){var i=new p.default;i.setUserName(t.nickname);(new d.default).sendSocket(r(i.getGame()))}else if("MsgLobbyCreated"==n){var o=new p.default;o.setEmemyName(t.usernameEnemy);var a=new v.default;a.hide();var s=new c.default;s.show()}else if("MsgPing"==n){var l=new d.default;l.pingSocket()}else console.log("Ошибка")}function a(){var e=new p.default;if(e.getGame()){var t=new d.default;t.openSocket(),t.messageSocket(o)}else{var n=document.getElementsByClassName("userName"),i=document.getElementsByClassName("userScore");i[0]?(e.setUserName(n[0].innerHTML),e.setScore(i[0].innerHTML)):(e.setUserName("Mysterious stranger"),e.setScore("Score: 0")),e.setEmemyName("Mysterious stranger");(new v.default).hide();(new c.default).show()}}function s(e){(l(!0),(new v.default).show(),e)?y.default.getUser().then(function(t){(new p.default).setGame(e),a()}).catch(function(){2==e?((new p.default).setGame(0),a(),new w.default("Offline","You have gone offline; Standalone game against bot")):((new p.default).setGame(0),a())}):((new p.default).setGame(e),a())}function l(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=document.getElementsByClassName("profileBlock");t[0]&&(e?t[0].classList.add("display_none"):t[0].classList.remove("display_none"))}Object.defineProperty(t,"__esModule",{value:!0}),t.hideUserBlock=t.startGame=void 0;var u=n(24),c=i(u),f=n(13),d=i(f),h=n(9),p=i(h),m=n(26),v=i(m),g=n(8),y=i(g),b=n(6),w=i(b);t.startGame=s,t.hideUserBlock=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(11),l=i(s),u=n(19),c=i(u),f=n(5),d=i(f),h=new d.default,p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.buttons={};debugger;return n.view.element.childNodes[0].childNodes[1].childNodes.forEach(function(e){var t=e.dataset.id;void 0!==t&&"back"!==t&&(n.buttons[t]=new c.default(e),e.addEventListener("click",function(){h.emitEvent({type:"changeMenu",newMenuName:e.dataset.id})}))}),n.title="Sea Battle",n.url="/",n}return a(t,e),t}(l.default);t.default=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null,"","",e))}return o(t,e),t}(s.default);t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(9),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(){if(i(this,e),e.__instance)return e.__instance;this.listShip=[],e.__instance=this}return r(e,[{key:"getShip",value:function(e){return this.listShip[e]}},{key:"getTurnShip",value:function(e){return this.getShip(e).getTurn()}},{key:"setShip",value:function(e,t){this.listShip[t]=e}},{key:"setShipLiveField",value:function(e,t){this.getShip(e).setLiveField(t)}},{key:"setTurnShip",value:function(e,t){this.getShip(e).setTurn(t)}},{key:"canDoMatrix",value:function(){for(var e=0;e<this.listShip.length;e++){if(!this.getShip(e).getLive().length)return!1}return!0}},{key:"CreateMatrix",value:function(e){if(e){return(new a.default).getGame()?this.createRandomMatrix():[1,0,0,0,6,6,0,0,7,0,0,0,0,0,0,0,0,0,7,0,0,0,0,5,5,0,0,0,0,0,3,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,2,0,0,0,10,0,0,8,0,0,0,0,0,0,10,0,0,8,0,0,0,0,0,0,10,0,0,8,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0]}for(var t=[],n=0;n<100;n++)t[n]=0;for(var i=0;i<this.listShip.length;i++)for(var r=this.getShip(i),o=r.getLive(),s=0;s<o.length;s++)t[10*+o[s][0]+ +o[s][2]]=i+1;return t}},{key:"createShipArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=[];if(e)for(var n=new a.default,i=n.getRandomResponse(),r=0;r<i.length;r++){var o={};o.length=i[r].length,o.isVertical=i[r].isVertical,o.rowPos=i[r].rowPos,o.colPos=i[r].colPos,t[r]=o}else for(var s=0;s<10;s++){var l={};l.length=this.getShip(s).getSize(),l.isVertical=!!this.getTurnShip(s),l.rowPos=+this.getShip(s).getLive()[0][0],l.colPos=+this.getShip(s).getLive()[0][2],t[s]=l}return t}},{key:"clearList",value:function(){this.listShip=[]}},{key:"createRandomMatrix",value:function(){for(var e=new a.default,t=e.getRandomResponse(),n=[],i=0;i<100;i++)n[i]=0;for(var r=0;r<t.length;r++)for(var o=t[r],s=0;s<o.cells.length;s++)n[10*+o.cells[s].rowPos+ +o.cells[s].colPos]=r+1;return n}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(7),u=i(l),c=n(4),f=i(c),d=n(55),h=i(d),p=n(9),m=i(p),v=n(56),g=i(v),y=n(12),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"show",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new m.default;if(n.getGame()){var i=new g.default(t);i.changeMove(t),i.messageOnGameLogic()}else{(new h.default).newGameLogic(e)}var r=new f.default(document.body,"div","all_game"),o=new f.default(document.body,"button","backButton");o.element.classList.add("flatLightGray"),o.text="Back to Menu",o.element.addEventListener("click",function(){(0,y.BackMenu)()}),r.appendChildWidget(o);var a=new f.default(document.body,"h1","inline_block h1_my");a.text=n.getUserName(),r.appendChildWidget(a),a=new f.default(document.body,"h1","inline_block h1_enemy"),a.text=n.getEmemyName(),r.appendChildWidget(a),this.createField(r,e),this.createField(r,e,1)}},{key:"createField",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i="enemy_field";n&&(i="my_field");var r=new f.default(document.body,"table",i);e.appendChildWidget(r);for(var o=[" ","А","Б","В","Г","Д","Е","Ж","З","И","К"],a=0;a<11;a++){var s=new f.default(document.body,"tr");r.appendChildWidget(s);for(var l=0;l<11;l++)if(0==a){var u=new f.default(document.body,"td","table_field_td");u.text=o[l],s.appendChildWidget(u)}else if(0==l){var c=new f.default(document.body,"td","table_field_td");c.text=a,s.appendChildWidget(c)}else!function(){var e=new f.default(document.body,"td","table_field_td");t[10*(a-1)+(l-1)]&&n&&e.element.classList.add("shipOK"),s.appendChildWidget(e),n?e.element.id=a-1+"+"+(l-1):(e.addEventHandler("click",function(){(new m.default).getGame()?(new g.default).shot(e.element):(new h.default).shot(e.element)}),e.element.id=a-1+"-"+(l-1))}()}}},{key:"turn",value:function(e){var t=document.getElementsByClassName("h1_turn");t[0]&&document.body.removeChild(t[0]),t=new f.default(document.body,"h1","inline_block h1_turn"),t.text=e,"Y"==e[0]?t.element.classList.add("h1_turn_my"):t.element.classList.add("h1_turn_enemy")}}]),t}(u.default);t.default=b},function(e,t,n){function i(e){var t,i="",o=e||{};return function(o){i+=null==(t=n(10).call(this,e))?"":t,function(){var e=o;if("number"==typeof e.length)for(var n=0,a=e.length;n<a;n++){var s=e[n];i=i+'<div class="button"'+r.attr("data-id",s.id,!0,!0)+">"+r.escape(null==(t=s.name)?"":t)+"</div>"}else{var a=0;for(var n in e){a++;var s=e[n];i=i+'<div class="button"'+r.attr("data-id",s.id,!0,!0)+">"+r.escape(null==(t=s.name)?"":t)+"</div>"}}}.call(this),i+=null==(t=n(15).call(this,e))?"":t}.call(this,"menus"in o?o.menus:"undefined"!=typeof menus?menus:void 0),i}var r=n(2);e.exports=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(4),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e),t&&(this.label=new a.default(null,"","",t)),n&&(this.input=new a.default(null,"","",n)),r&&(this.errorLab=new a.default(null,"","",r))}return r(e,[{key:"clear",value:function(){this.input.element.value=""}},{key:"clearError",value:function(){this.errorLab.text=""}},{key:"value",set:function(e){this.input.element.value=e},get:function(){return this.input.element.value}},{key:"error",set:function(e){this.errorLab.text=e},get:function(){return this.errorLab.text}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(7),u=i(l),c=n(4),f=i(c),d=n(52),h=i(d),p=n(54),m=n(20),v=i(m),g=n(57),y=i(g),b=n(25),w=i(b),_=n(12),k=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"show",value:function(){var e=new f.default(document.body,"div","all_game"),t=new f.default(document.body,"h1","placeShips");t.text="Place your ships",e.appendChildWidget(t);var n=new f.default(document.body,"button","backButton");n.element.classList.add("flatLightGray"),n.text="Back to Menu",n.element.addEventListener("click",function(){(0,_.BackMenu)()}),e.appendChildWidget(n);var i=new f.default(document.body,"div","shipField");e.appendChildWidget(i);var r=1,o=1,a=new v.default;a.clearList();for(var s=4;s>0;s--){var l=new f.default;i.appendChildWidget(l);for(var u=s;u>0;u--)a.setShip(new y.default(i,o,r),o-1),o++;r++}var c=new f.default(document.body,"table","table_field");e.appendChildWidget(c);for(var d=[" ","А","Б","В","Г","Д","Е","Ж","З","И","К"],m=0;m<11;m++){var g=new f.default(document.body,"tr");c.appendChildWidget(g);for(var b=0;b<11;b++)if(0==m){var k=new f.default(document.body,"td","table_field_td");k.text=d[b],g.appendChildWidget(k)}else if(0==b){var x=new f.default(document.body,"td","table_field_td");x.text=m,g.appendChildWidget(x)}else{var M=new f.default(document.body,"td","droppable field table_field_td");M.idName=m-1+" "+(b-1),g.appendChildWidget(M)}}var O=new f.default;e.appendChildWidget(O);var E=new f.default(document.body,"div","buttonAll"),S=new f.default(document.body,"button","turnButton");S.element.classList.add("flatLightGray"),S.text="Turn ships",E.appendChildWidget(S);var P=new w.default;P.clearFlag(),S.element.addEventListener("click",function(){P.turnShips()});var L=new f.default(document.body,"button","randomButton");L.text="Start with random",L.element.classList.add("flatLightGray"),L.element.addEventListener("click",function(){(0,p.getRandomMatrixShips)()}),E.appendChildWidget(L);var j=new f.default(document.body,"button","next_button");j.text="Start",j.element.classList.add("flatLightGray"),E.appendChildWidget(j),j.element.addEventListener("click",function(){(0,p.getMatrixShips)()}),e.appendChildWidget(E),(0,h.default)()}}]),t}(u.default);t.default=k},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){if(i(this,e),e.__instance)return e.__instance;this.flag=0,e.__instance=this}return r(e,[{key:"turnShips",value:function(){this.turnShipX2(),this.turnShipX3(),this.turnShipX4(),this.changeFlag()}},{key:"turnShipX2",value:function(){var e=document.getElementsByClassName("shipX2");if(this.getFlag())for(var t=0;t<e.length;t++)e[t].style.width="74px",e[t].style.height="35px";else for(var n=0;n<e.length;n++)e[n].style.height="74px",e[n].style.width="35px"}},{key:"turnShipX3",value:function(){var e=document.getElementsByClassName("shipX3");if(this.getFlag())for(var t=0;t<e.length;t++)e[t].style.width="112px",e[t].style.height="35px";else for(var n=0;n<e.length;n++)e[n].style.height="112px",e[n].style.width="35px"}},{key:"turnShipX4",value:function(){var e=document.getElementsByClassName("shipX4");if(this.getFlag())for(var t=0;t<e.length;t++)e[t].style.width="152px",e[t].style.height="35px";else for(var n=0;n<e.length;n++)e[n].style.height="152px",e[n].style.width="35px"}},{key:"getFlag",value:function(){return this.flag}},{key:"setFlag",value:function(e){this.flag=e}},{key:"changeFlag",value:function(){this.getFlag()?this.setFlag(0):this.setFlag(1)}},{key:"clearFlag",value:function(){this.setFlag(0)}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(7),u=i(l),c=n(4),f=i(c),d=n(12),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"show",value:function(){var e=new f.default(document.body,"div","all_game"),t=new f.default(document.body,"div","body_launcher");t.element.innerHTML='<main role="main">\n    <ul role="progressbar" aria-busy="true">\n        <li role="presentation"></li>\n        <li role="presentation"></li>\n        <li role="presentation"></li>\n        <li role="presentation"></li>\n        <li role="presentation"></li>\n        <li role="presentation"></li>\n        <li role="presentation"></li>\n    </ul>\n    <p align="middle" class="p_p">\n        <span id="title">Waiting for the enemy...</span>\n    </p>\n</main>',e.appendChildWidget(t);var n=new f.default(document.body,"button","backButton");n.text="Back to Menu",e.appendChildWidget(n),n.element.addEventListener("click",function(){(0,d.BackMenu)()}),n.element.classList.add("flatLightGray")}}]),t}(u.default);t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(28),o=i(r),a=n(5),s=i(a),l=n(64),u=n(65);i(u);n(66),n(69),n(71),n(73),n(75),n(77),n(79),n(81),n(83),n(85),n(87),n(89),n(91),"serviceWorker"in navigator&&navigator.serviceWorker.register("./ServiceWorker.js",{scope:"/"}).catch(function(e){console.log("Service worker error: "+e)});var c=new s.default,f=new o.default;c.subscribe(f),f.go(),(0,l.AddOrientationEvent)(),(0,l.OrientationChange)(),window.onpopstate=f.go.bind(f)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(29),u=i(l),c=n(30),f=i(c),d=n(33),h=(i(d),n(35)),p=(i(h),n(37)),m=(i(p),n(38)),v=(i(m),n(40)),g=(i(v),n(42)),y=i(g),b=n(18),w=i(b),_=n(44),k=(i(_),n(47)),x=(i(k),n(48)),M=(i(x),n(49)),O=(i(M),n(50)),E=(i(O),n(51)),S=i(E),P=n(58),L=(i(P),n(61)),j=(i(L),n(62)),F=(i(j),n(63)),B=(i(F),function(e){function t(){var e;if(r(this,t),t.instance)return e=t.instance,o(n,e);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.menus={"/":new w.default(f.default)},n.currentMenu=n.menus["/"],n.currentMenu.show(),n.profileBlock=new S.default(y.default),n.profileBlock.show(),t.instance=n,n}return a(t,e),s(t,[{key:"changeMenu",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.currentMenu.hide(),this.currentMenu=this.menus[e],!0===t&&window.history.pushState(null,this.currentMenu.title,this.currentMenu.url),this.currentMenu.show()}},{key:"go",value:function(){this.changeMenu(window.location.pathname,!1)}},{key:"eventFired",value:function(e){"changeMenu"===e.type?!0===e.bPushState?this.changeMenu(e.newMenuName,!0):this.changeMenu(e.newMenuName):"goBack"===e.type?window.history.back():"updateUser"===e.type&&this.profileBlock.updateUser()}},{key:"registerMenu",value:function(e,t){this.menus[e]=t}}]),t}(u.default));t.default=B},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e)}return r(e,[{key:"eventFired",value:function(e){}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(31),a=new r.default(document.getElementsByClassName("page")[0],o,{title:"Меню",menus:[{name:"Начать тест",id:"/startGame",class:"button"},{name:"Таблица лучших игроков",id:"/leaderboardMenu",class:"button button_secondary"},{name:"О нас",id:"/aboutMenu",class:"button button_secondary"}]});t.default=a},function(e,t,n){function i(e){var t,i="",o=e||{};return function(o,a){i=i+(null==(t=n(10).call(this,e))?"":t)+'<div class="wrapper wrapper_menu"><div class="wrapper__header"><h2 class="header2">'+r.escape(null==(t=a)?"":t)+'</h2></div><div class="wrapper__main">',function(){var e=o;if("number"==typeof e.length)for(var n=0,a=e.length;n<a;n++){var s=e[n];i=i+"<button"+(r.attr("class",r.classes([s.class],[!0]),!1,!0)+r.attr("data-id",s.id,!0,!0))+">"+r.escape(null==(t=s.name)?"":t)+"</button>"}else{var a=0;for(var n in e){a++;var s=e[n];i=i+"<button"+(r.attr("class",r.classes([s.class],[!0]),!1,!0)+r.attr("data-id",s.id,!0,!0))+">"+r.escape(null==(t=s.name)?"":t)+"</button>"}}}.call(this),i+="</div></div>"}.call(this,"menus"in o?o.menus:"undefined"!=typeof menus?menus:void 0,"title"in o?o.title:"undefined"!=typeof title?title:void 0),i}var r=n(2);e.exports=i},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(34),a=new r.default(document.getElementsByClassName("page")[0],o,{title:"About",text:[]});t.default=a},function(e,t,n){function i(e){var t,i="",o=e||{};return function(o){i=i+((null==(t=n(10).call(this,e))?"":t)+'<div class="aboutText"><div class="aboutLine">')+r.escape(null==(t=o)?"":t)+"</div></div>"+(null==(t=n(15).call(this,e))?"":t)}.call(this,"text"in o?o.text:"undefined"!=typeof text?text:void 0),i}var r=n(2);e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(36),a=new r.default(document.getElementsByClassName("page")[0],o,{title:"Leaderboard",players:[]});t.default=a},function(e,t,n){function i(e){var t,i="",o=e||{};return function(o,a){i+=null==(t=n(10).call(this,e))?"":t;var s=0;i+='<table class="leaderTable"><thead><tr><th class="tableHeader">Position</th><th class="tableHeader">Name</th><th class="tableHeader">Score</th></tr></thead><tbody>',function(){var e=a;if("number"==typeof e.length)for(var n=0,l=e.length;n<l;n++){var u=e[n];i=s==o?i+'<tr class="highlight"><th class="contents">'+r.escape(null==(t=u.position)?"":t)+'</th><th class="contents">'+r.escape(null==(t=u.login)?"":t)+'</th><th class="contents">'+r.escape(null==(t=u.score)?"":t)+"</th></tr>":i+'<tr><th class="contents">'+r.escape(null==(t=u.position)?"":t)+'</th><th class="contents">'+r.escape(null==(t=u.login)?"":t)+'</th><th class="contents">'+r.escape(null==(t=u.score)?"":t)+"</th></tr>",s++}else{var l=0;for(var n in e){l++;var u=e[n];i=s==o?i+'<tr class="highlight"><th class="contents">'+r.escape(null==(t=u.position)?"":t)+'</th><th class="contents">'+r.escape(null==(t=u.login)?"":t)+'</th><th class="contents">'+r.escape(null==(t=u.score)?"":t)+"</th></tr>":i+'<tr><th class="contents">'+r.escape(null==(t=u.position)?"":t)+'</th><th class="contents">'+r.escape(null==(t=u.login)?"":t)+'</th><th class="contents">'+r.escape(null==(t=u.score)?"":t)+"</th></tr>",s++}}}.call(this),i=i+"</tbody></table>"+(null==(t=n(15).call(this,e))?"":t)}.call(this,"highlightIndex"in o?o.highlightIndex:"undefined"!=typeof highlightIndex?highlightIndex:void 0,"players"in o?o.players:"undefined"!=typeof players?players:void 0),i}var r=n(2);e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(22),a=new r.default(document.getElementsByClassName("page")[0],o,{title:"Game Mode",menus:[{name:"Stand-alone",id:"/startGame/offline"},{name:"Singleplayer",id:"/startGame/online"},{name:"Multiplayer",id:"/startGame/multiplayer"}]});t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(39),a=new r.default(document.getElementsByClassName("page")[0],o,{title:"Login"});t.default=a},function(e,t,n){function i(e){var t,i="";return i=i+((null==(t=n(10).call(this,e))?"":t)+'<form class="loginForm" name="loginForm"><table class="alignCenter"><tbody><tr><th><label class="info">Mail:</label></th><th><input class="flatLightGray inputForm" type="text" value="" name="loginMailInput"></th><th><label class="error" id="loginMailError"></label></th></tr><tr><th><label class="info">Password:</label></th><th><input class="flatLightGray inputForm" type="password" value="" name="loginPasswordInput"></th><th><label class="error" id="loginPasswordError"></label></th></tr><tr><th colspan="3"><input class="alignCenter submitButton" type="submit" value="Log-in" name="loginSubmit"></th></tr></tbody></table></form>')+(null==(t=n(15).call(this,e))?"":t)}n(2);e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(41),a=new r.default(document.getElementsByClassName("page")[0],o,{title:"Register"});t.default=a},function(e,t,n){function i(e){var t,i="";return i=i+((null==(t=n(10).call(this,e))?"":t)+'<form class="loginForm" name="registerForm"><table class="alignCenter"><tbody><tr><th><label class="info">Mail:</label></th><th><input class="flatLightGray inputForm" type="text" value="" name="registerMailInput"></th><th><label class="error" id="registerMailError"></label></th></tr><tr><th><label class="info">Nickname:</label></th><th><input class="flatLightGray inputForm" type="text" value="" name="registerNicknameInput"></th><th><label class="error" id="registerNicknameError"></label></th></tr><tr><th><label class="info">Password:</label></th><th><input class="flatLightGray inputForm" type="password" value="" name="registerPasswordInput"></th><th><label class="error" id="registerPasswordError"></label></th></tr><tr><th><label class="info">Repeat Password:</label></th><th><input class="flatLightGray inputForm" type="password" value="" name="registerRepeatPasswordInput"></th><th><label class="error" id="registerRepeatPasswordError"></label></th></tr><tr><th colspan="3"><input class="alignCenter submitButton" type="submit" value="Register" name="registerSubmit"></th></tr></tbody></table></form>')+(null==(t=n(15).call(this,e))?"":t)}n(2);e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(43),a=new r.default(document.body,o,{loggedIn:!1,name:null},"profileBlock");t.default=a},function(e,t,n){function i(e){var t,n="",i=e||{};return function(e,i,o){e?n=n+'<h3 class="userName">'+r.escape(null==(t=i)?"":t)+'</h3><h4 class="userScore">Score: '+r.escape(null==(t=o)?"":t)+"</h4>":n+='<h3 class="userName">Not logged in</h3>',n+='<table class="alignCenter"><tbody class="alignCenter">',n+=e?'<tr class="alignCenter"><th class="alignCenter" colspan="2"><div class="smallButton alignCenter" id="logout">Logout</div></th></tr>':'<tr class="alignCenter"><th class="alignCenter"><div class="smallButton alignCenter" id="login">Login</div></th><th class="alignCenter"><div class="smallButton alignCenter" id="register">Register</div></th></tr>',n+="</tbody></table>"}.call(this,"loggedIn"in i?i.loggedIn:"undefined"!=typeof loggedIn?loggedIn:void 0,"name"in i?i.name:"undefined"!=typeof name?name:void 0,"score"in i?i.score:"undefined"!=typeof score?score:void 0),n}var r=n(2);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(11),u=i(l),c=n(8),f=i(c),d=n(6),h=i(d),p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.title="About menu",n.url="/aboutMenu",n}return a(t,e),s(t,[{key:"onShow",value:function(){var e=this;this.view.changeData({title:"About",text:[]}),f.default.getAboutText().then(function(t){e.deleteBackButton(),e.view.changeData({title:"About",text:t.about}),e.createBackButton()}).catch(function(t){e.deleteBackButton(),new h.default("Network error","Can't get about info"),e.createBackButton()})}}]),t}(u.default);t.default=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=window.location.protocol+"//"+window.location.host,a=function(){function e(){i(this,e)}return r(e,null,[{key:"FetchGet",value:function(t){var n=(e.BaseUrl||o)+t;return fetch(n,{method:"GET",mode:"cors",credentials:"include"}).then(function(e){if(e.status>=400)throw e;return e.json()})}},{key:"FetchPost",value:function(t,n){var i=(e.BaseUrl||o)+t;return fetch(i,{method:"POST",mode:"cors",credentials:"include",body:JSON.stringify(n),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(e){if(e.status>=400)throw e;return e.json()})}}]),e}();a.BaseUrl="https://sea-battle-back.herokuapp.com/api",t.default=a},function(e,t,n){function i(e){var t,n="",i=e||{};return function(e,i){n=n+'<h1 class="alignCenter messageBoxTitle">'+r.escape(null==(t=i)?"":t)+'</h1><div class="messageArea">'+r.escape(null==(t=e)?"":t)+'</div><input class="flatLightGray buttonMessageOK" type="button" data-name="okButton" value="Ok">'}.call(this,"message"in i?i.message:"undefined"!=typeof message?message:void 0,"title"in i?i.title:"undefined"!=typeof title?title:void 0),n}var r=n(2);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(11),u=i(l),c=n(8),f=i(c),d=n(6),h=i(d),p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.title="Leaderboard",n.url="/leaderboardMenu",n}return a(t,e),s(t,[{key:"onShow",value:function(){var e=this;this.view.changeData({title:"Leaderboard",players:[]}),f.default.getLeaders().then(function(t){var n=10;t[10]&&t[10].position<=10&&(n=t[10].position-1,t.pop()),e.deleteBackButton(),e.view.changeData({title:"Leaderboard",players:t,highlightIndex:n}),e.createBackButton()}).catch(function(){e.deleteBackButton(),new h.default("Network error","Can't get leaderboard info"),e.createBackButton()})}}]),t}(u.default);t.default=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.title="Game Mode",n.url="/selectMode",n}return o(t,e),t}(s.default);t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(11),u=i(l),c=n(23),f=i(c),d=n(8),h=i(d),p=n(5),m=i(p),v=n(6),g=i(v),y=new m.default,b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputMail=new f.default(null,document.loginForm.loginMailInput,document.getElementById("loginMailError")),n.inputPassword=new f.default(null,document.loginForm.loginPasswordInput,document.getElementById("loginPasswordError")),document.loginForm.onsubmit=function(){return n.submitHandler()},n.title="Login",n.url="/startGame/login",n}return a(t,e),s(t,[{key:"onShow",value:function(){this.inputMail.clear(),this.inputMail.clearError(),this.inputPassword.clear(),this.inputPassword.clearError()}},{key:"submitHandler",value:function(){return this.validate()&&h.default.checkUser(this.inputMail.value,this.inputPassword.value).then(function(){y.emitEvent({type:"updateUser"}),y.emitEvent({type:"changeMenu",newMenuName:"/"})}).catch(function(e){new g.default("Login Error",e.response)}),!1}},{key:"validate",value:function(){this.inputMail.clearError(),this.inputPassword.clearError();var e=this.inputMail.value,t=this.inputPassword.value,n=!0;return""===e&&(this.inputMail.error="Mail is required!",n=!1),""===t&&(this.inputPassword.error="Password is required!",n=!1),!!n&&(!!h.default.isValidMail(e)||(this.inputMail.error="Incorrect mail specified!",!1))}}]),t}(u.default);t.default=b},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(11),u=i(l),c=n(23),f=i(c),d=n(8),h=i(d),p=n(5),m=i(p),v=n(6),g=i(v),y=new m.default,b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputMail=new f.default(null,document.registerForm.registerMailInput,document.getElementById("registerMailError")),n.inputNickname=new f.default(null,document.registerForm.registerNicknameInput,document.getElementById("registerNicknameError")),n.inputPassword=new f.default(null,document.registerForm.registerPasswordInput,document.getElementById("registerPasswordError")),n.inputRepeatPassword=new f.default(null,document.registerForm.registerRepeatPasswordInput,document.getElementById("registerRepeatPasswordError")),document.registerForm.onsubmit=function(){return n.submitHandler()},n.title="Register",n.url="/startGame/register",n}return a(t,e),s(t,[{key:"onShow",value:function(){this.clearInput(),this.clearErrorInput()}},{key:"clearInput",value:function(){this.inputMail.clear(),this.inputNickname.clear(),this.inputPassword.clear(),this.inputRepeatPassword.clear()}},{key:"clearErrorInput",value:function(){this.inputMail.clearError(),this.inputNickname.clearError(),this.inputPassword.clearError(),this.inputRepeatPassword.clearError()}},{key:"submitHandler",value:function(){var e=this.inputPassword.value;return this.validate()&&h.default.registerUser(this.inputMail.value,this.inputNickname.value,this.inputPassword.value).then(function(t){h.default.checkUser(t.email,e).then(function(){y.emitEvent({type:"updateUser"})}),y.emitEvent({type:"changeMenu",newMenuName:"/"})}.bind(e)).catch(function(e){new g.default("Register error",e.response)}),!1}},{key:"validate",value:function(){this.clearErrorInput();var e=this.inputMail.value,t=this.inputNickname.value,n=this.inputPassword.value,i=this.inputRepeatPassword.value,r=!0;return""===e?(this.inputMail.error="Mail is required!",r=!1):h.default.isValidMail(e)||(this.inputMail.error="Invalid mail!",r=!1),""===t&&(this.inputNickname.error="Nickname is required!",r=!1),""===n&&(this.inputPassword.error="Password is required!",r=!1),""===i&&(this.inputRepeatPassword.error="Repeat Password is required",r=!1),n!==i&&(this.inputRepeatPassword.error="Repeat Password and Password are different!",r=!1),r}}]),t}(u.default);t.default=b},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(11),u=i(l),c=n(8),f=i(c),d=n(19),h=i(d),p=n(5),m=i(p),v=n(7),g=(i(v),n(12)),y=new m.default,b=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"onShow",value:function(){this.updateUser()}},{key:"createButtons",value:function(){var e=document.getElementById("logout");void 0!==e&&null!==e&&(this.logout=new h.default(e),this.logout.addEventHandler("click",this.logoutAction));var t=document.getElementById("login");void 0!==t&&null!==t&&(this.login=new h.default(document.getElementById("login")),this.login.addEventHandler("click",this.loginAction));var n=document.getElementById("register");void 0!==n&&void 0!==n&&(this.register=new h.default(document.getElementById("register")),this.register.addEventHandler("click",this.registerAction))}},{key:"removeButtons",value:function(){void 0!==this.login&&(this.login.removeEventHandler("click",this.loginAction),delete this.login),void 0!==this.logout&&(this.logout.removeEventHandler("click",this.logoutAction),delete this.logout),void 0!==this.register&&(this.register.removeEventHandler("click",this.registerAction),delete this.register)}},{key:"logoutAction",value:function(){f.default.logoutUser().then(function(e){y.emitEvent({type:"updateUser"}),(0,g.BackMenu)()})}},{key:"loginAction",value:function(){y.emitEvent({type:"changeMenu",newMenuName:"/startGame/login"})}},{key:"registerAction",value:function(){y.emitEvent({type:"changeMenu",newMenuName:"/startGame/register"})}},{key:"updateUser",value:function(){var e=this;f.default.getUser().then(function(t){e.removeButtons(),void 0===t.status?e.view.changeData({name:t.login,loggedIn:!0,score:t.score}):e.view.changeData({loggedIn:!1}),e.createButtons()}).catch(function(e){})}}]),t}(u.default);t.default=b},function(e,t,n){"use strict";function i(e){var t=e.target.closest(".draggable");if(t)return h.elem=t,m=+t.textContent,e.pageX?(h.downX=e.pageX,h.downY=e.pageY):(h.downX=e.changedTouches[0].pageX,h.downY=e.changedTouches[0].pageY),!1}function r(e){if(h.elem){if(!h.avatar){var t=0,n=0;if(e.pageX?(t=e.pageX-h.downX,n=e.pageY-h.downY):(t=e.changedTouches[0].pageX-h.downX,n=e.changedTouches[0].pageY-h.downY),Math.abs(t)<3&&Math.abs(n)<3)return;if(h.avatar=s(),h.avatar.style.opacity=.5,!h.avatar)return void(h={});var i=u(h.avatar);h.shiftX=h.downX-i.left,h.shiftY=h.downY-i.top,l()}return e.pageX?(h.avatar.style.left=e.pageX-15+"px",h.avatar.style.top=e.pageY-15+"px"):(h.avatar.style.left=e.changedTouches[0].pageX-15+"px",h.avatar.style.top=e.changedTouches[0].pageY-15+"px"),p.removalBacklight(),p.fieldLighting(event,m,h),!1}}function o(e){h.avatar&&a(),h={},m=0}function a(){p.fieldLighting(event,m,h,1)?h.elem.style.display="none":(h.avatar.style.opacity=1,h.avatar.rollback())}function s(){var e=h.elem,t={parent:e.parentNode,nextSibling:e.nextSibling,position:e.position||"",left:e.left||"",top:e.top||"",zIndex:e.zIndex||""};return e.rollback=function(){t.parent.insertBefore(e,t.nextSibling),e.style.position=t.position,e.style.left=t.left,e.style.top=t.top,e.style.zIndex=t.zIndex},e}function l(){var e=h.avatar;document.body.appendChild(e),e.style.zIndex=999,e.style.position="absolute"}function u(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}}function c(){document.addEventListener("mousedown",i),document.addEventListener("mousemove",r),document.addEventListener("mouseup",o),document.addEventListener("touchstart",i),document.addEventListener("touchmove",r),document.addEventListener("touchend",o),document.addEventListener("pointerdown",i),document.addEventListener("pointermove",r),document.addEventListener("pointerup",o)}Object.defineProperty(t,"__esModule",{value:!0});var f=n(53),d=function(e){return e&&e.__esModule?e:{default:e}}(f),h={},p=new d.default,m=0;t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(20),s=i(a),l=n(25),u=i(l),c=function(){function e(){r(this,e)}return o(e,[{key:"fieldLighting",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=new u.default;return this.getFreeFields(t,r.getFlag(),e,n)?(this.putShip(t,r.getFlag(),e,n,i),1):0}},{key:"removalBacklight",value:function(){for(var e=document.getElementsByClassName("droppable"),t=0;t<e.length;t++)e[t].style.cssText="background-color: transparent;"}},{key:"getFreeFields",value:function(e,t,n,i){var r=void 0,o=this.getElemUnderMouse(n,i);if(null==o)return!1;if(null==(r=o.closest(".droppable")))return!1;for(var a=0;a<e;a++){if(null==(o=t?document.getElementById(+r.id[0]+a+" "+ +r.id[2]):document.getElementById(+r.id[0]+" "+(+r.id[2]+a))))return!1;if(!o.classList.contains("droppable"))return!1}return!0}},{key:"putShip",value:function(e,t,n,i,r){var o=this.getElemUnderMouse(n,i),a=void 0,l=void 0;if(r)for(var u=0;u<e;u++){a=t?document.getElementById(+o.id[0]+u+" "+ +o.id[2]):document.getElementById(+o.id[0]+" "+(+o.id[2]+u));for(var c=-1;c<2;c++)for(var f=-1;f<2;f++)(l=document.getElementById(+a.id[0]+c+" "+(+a.id[2]+f)))&&(l.classList.remove("droppable"),l.style.cssText="background-color: #8B6ED7;")}for(var d=0;d<e;d++)if(a=t?document.getElementById(+o.id[0]+d+" "+ +o.id[2]):document.getElementById(+o.id[0]+" "+(+o.id[2]+d)),r){a.style.cssText="background-color: #51FF00;",a.classList.remove("droppable");var h=new s.default,p=0,m=0;n.clientX?(p=n.clientX,m=n.clientY):(p=n.changedTouches[0].clientX,m=n.changedTouches[0].clientY);var v=document.elementFromPoint(p,m);h.setShipLiveField(+v.id-1,a.id),h.setTurnShip(+v.id-1,t)}else a.style.cssText="background-color: #FF2507;"}},{key:"getElemUnderMouse",value:function(e,t){t.avatar.hidden=!0;var n=0,i=0;e.clientX?(n=e.clientX,i=e.clientY):(n=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY);var r=document.elementFromPoint(n,i);return t.avatar.hidden=!1,r}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){(new k.default).hide(),(new p.default).show(e,t)}function o(e){var t={};return t.class="MsgShipPosition",t.ships=e,t=JSON.stringify(t,"")}function a(){var e={};return e.class="MsgGeneratedShips",e=JSON.stringify(e,"")}function s(){if((new w.default).getGame()){var e=new y.default;e.messageSocket(function(e){var t=e.data;t=JSON.parse(t);var n=t.class;if("MsgShipPosition"==n)(new w.default).setRandomResponse(t.ships.reverse()),l(1);else if("MsgPing"==n){var i=new y.default;i.pingSocket()}else console.log("Ошибка")}),e.sendSocket(a())}else l(1)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new v.default;if(t.canDoMatrix()||e){var n=t.CreateMatrix(e);(new d.default).hide();if((new w.default).getGame()){(new k.default).show();var i=new y.default;i.messageSocket(function(e){var t=e.data;t=JSON.parse(t);var i=t.class;if("MsgGameStarted"==i)r(n,t.first);else if("MsgPing"==i){var o=new y.default;o.pingSocket()}else console.log("Ошибка")});var a=o(t.createShipArray(e));i.sendSocket(a)}else{(new p.default).show(n)}}else{new c.default("Placement error","You haven't placed all the ships!")}}Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomMatrixShips=t.getMatrixShips=void 0;var u=n(6),c=i(u),f=n(24),d=i(f),h=n(21),p=i(h),m=n(20),v=i(m),g=n(13),y=i(g),b=n(9),w=i(b),_=n(26),k=i(_);t.getMatrixShips=l,t.getRandomMatrixShips=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(12),a=n(21),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(){function e(){if(i(this,e),e.__instance)return e.__instance;e.__instance=this,this.enemyMatrix=[1,0,0,0,6,6,0,0,7,0,0,0,0,0,0,0,0,0,7,0,0,0,0,5,5,0,0,0,0,0,3,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,2,0,0,0,10,0,0,8,0,0,0,0,0,0,10,0,0,8,0,0,0,0,0,0,10,0,0,8,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0],this.countMyShip=20,this.countEnemyShip=20}return r(e,[{key:"newGameLogic",value:function(e){this.enemyMatrix=[1,0,0,0,6,6,0,0,7,0,0,0,0,0,0,0,0,0,7,0,0,0,0,5,5,0,0,0,0,0,3,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,2,0,0,0,10,0,0,8,0,0,0,0,0,0,10,0,0,8,0,0,0,0,0,0,10,0,0,8,0,0,9,9,9,0,0,0,0,0,0,0,0,0,0],this.matrixShips=e,this.countMyShip=20,this.countEnemyShip=20,this.turn=1,(new s.default).turn("Your turn")}},{key:"shot",value:function(e){var t=new s.default;if(this.turn&&this.myFire(e)&&(t.turn("Opponent's turn"),this.turn=0,setTimeout(function(){this.botFire(),t.turn("Your turn"),this.turn=1}.bind(this),1200)),!this.countEnemyShip){(new s.default).hide();(new o.WinScene).show()}if(!this.countMyShip){(new s.default).hide();(new o.LoseScene).show()}}},{key:"myFire",value:function(e){var t=this,n=+e.id[0],i=+e.id[2];if(this.enemyMatrix[10*n+i]<0||100==this.enemyMatrix[10*n+i])return!1;if(this.enemyMatrix[10*n+i]){if(this.enemyMatrix[10*n+i]=-this.enemyMatrix[10*n+i],e.classList.add("shipFire_animation"),setTimeout(function(){e.classList.remove("shipFire_animation"),e.classList.add("shipFire")}.bind(e),1e3),this.killShip(-this.enemyMatrix[10*n+i],this.enemyMatrix))for(var r=0;r<10;r++)for(var o=0;o<10;o++)this.enemyMatrix[10*r+o]==this.enemyMatrix[10*n+i]&&function(){var e=document.getElementById(r+"-"+o);e.classList.remove("shipFire_animation"),e.classList.remove("shipFire"),e.classList.add("shipDie_animation"),setTimeout(function(){e.classList.remove("shipDie_animation"),e.classList.remove("shipFire_animation"),e.classList.remove("shipFire"),e.classList.add("shipDie")}.bind(e),1e3);for(var n=-10;n<20;n+=10)for(var i=-1;i<2;i++){(function(e){if(r+n/10<0||r+n/10>9||o+e>9||o+e<0)return"continue";if(t.enemyMatrix[10*r+n+o+e]<0)return"continue";t.enemyMatrix[10*r+n+o+e]=100;var i=document.getElementById(r+n/10+"-"+(o+e));debugger;i.classList.remove("Fire"),i.classList.add("fieldFire_animation"),setTimeout(function(){i.classList.remove("fieldFire_animation"),i.classList.add("Fire")}.bind(i),1e3)})(i)}}();return this.countEnemyShip--,!1}return this.enemyMatrix[10*n+i]=100,e.classList.add("fieldFire_animation"),setTimeout(function(){e.classList.remove("fieldFire_animation"),e.classList.add("Fire")}.bind(e),1e3),!0}},{key:"botFire",value:function(){var e=this,t=Math.floor(10*Math.random()),n=Math.floor(10*Math.random());if(this.matrixShips[10*t+n]<0||100==this.matrixShips[10*t+n])this.botFire();else if(this.matrixShips[10*t+n]){var i=document.getElementById(t+"+"+n);if(i.classList.remove("shipOK"),i.classList.add("shipFire_animation"),setTimeout(function(){i.classList.remove("shipFire_animation"),i.classList.add("shipFire")}.bind(i),1e3),this.matrixShips[10*t+n]=-this.matrixShips[10*t+n],this.killShip(-this.matrixShips[10*t+n],this.matrixShips))for(var r=0;r<10;r++)for(var o=0;o<10;o++)this.matrixShips[10*r+o]==this.matrixShips[10*t+n]&&function(){var t=document.getElementById(r+"+"+o);t.classList.remove("shipFire_animation"),t.classList.remove("shipFire"),t.classList.add("shipDie_animation"),setTimeout(function(){t.classList.remove("shipFire_animation"),t.classList.remove("shipFire"),t.classList.remove("shipDie_animation"),t.classList.add("shipDie")}.bind(t),1e3);for(var n=-10;n<20;n+=10)for(var i=-1;i<2;i++){(function(t){if(r+n/10<0||r+n/10>9||o+t>10||o+t<0)return"continue";if(e.matrixShips[10*r+n+o+t]<0)return"continue";e.matrixShips[10*r+n+o+t]=100;var i=document.getElementById(r+n/10+"+"+(o+t));i.classList.remove("Fire"),i.classList.add("fieldFire_animation"),setTimeout(function(){i.classList.remove("fieldFire_animation"),i.classList.add("Fire")}.bind(i),1e3)})(i)}}();this.countMyShip--,this.botFire()}else{this.matrixShips[10*t+n]=100;var a=document.getElementById(t+"+"+n);a.classList.add("fieldFire_animation"),setTimeout(function(){a.classList.remove("fieldFire_animation"),a.classList.add("Fire")}.bind(a),1e3)}}},{key:"killShip",value:function(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!1;return!0}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(12),s=n(21),l=i(s),u=n(13),c=i(u),f=n(9),d=i(f),h=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(r(this,e),e.__instance)return e.__instance;e.__instance=this,this.changeMove(t),this.messageOnGameLogic()}return o(e,[{key:"messageOnGameLogic",value:function(){if(!this.move){(new c.default).messageSocket(function(e){var t=e.data;t=JSON.parse(t);var n=t.class;if("MsgResultMove"==n||"MsgShipIsDestroyed"==n){1==(new d.default).getGame()?setTimeout(function(){this.fireEnemy(t)}.bind(this),1200):this.fireEnemy(t)}else if("MsgEndGame"==n)this.endGame(t);else if("MsgPing"==n){var i=new c.default;i.pingSocket()}else{debugger;console.log("Ошибка")}}.bind(this))}}},{key:"changeMove",value:function(e){this.move=e,this.gameScene=new l.default,this.move?this.gameScene.turn("Your turn"):this.gameScene.turn("Opponent's turn")}},{key:"shot",value:function(e){if(this.move){var t=this.createShot(e),n=new c.default;n.sendSocket(t),n.messageSocket(function(t){var n=t.data;n=JSON.parse(n);var i=n.class;if("MsgResultMove"==i||"MsgShipIsDestroyed"==i){debugger;this.fireMe(n,e)}else if("MsgEndGame"==i)this.endGame(n);else if("MsgError"==i&&"unacceptable move "==n.error);else if("MsgPing"==i){var r=new c.default;r.pingSocket()}else{debugger;console.log("Ошибка")}}.bind(this))}}},{key:"createShot",value:function(e){var t={};t.rowPos=+e.id[0],t.colPos=+e.id[2];var n={};return n.class="MsgFireCoordinates",n.coordinates=t,n=JSON.stringify(n,"")}},{key:"fireEnemy",value:function(e){var t=void 0;"ON_FIRE"==e.cellStatus&&(t=document.getElementById(e.cell.rowPos+"+"+e.cell.colPos),t.classList.remove("shipOK"),t.classList.add("shipFire_animation"),setTimeout(function(){t.classList.remove("shipFire_animation"),t.classList.add("shipFire")}.bind(t),1e3),this.move=!1,this.gameScene.turn("Opponent's turn")),"BLOCKED"==e.cellStatus&&(t=document.getElementById(e.cell.rowPos+"+"+e.cell.colPos),t.classList.add("fieldFire_animation"),setTimeout(function(){t.classList.remove("fieldFire_animation"),t.classList.add("Fire")}.bind(t),1e3),this.move=!0,this.gameScene.turn("Your turn")),"MsgShipIsDestroyed"==e.class&&(this.shipDead(e,"+"),this.move=!1,this.gameScene.turn("Opponent's turn"))}},{key:"fireMe",value:function(e,t){if("ON_FIRE"==e.cellStatus&&(t.classList.add("shipFire_animation"),setTimeout(function(){t.classList.remove("shipFire_animation"),t.classList.add("shipFire")}.bind(t),1e3),this.move=!0,this.gameScene.turn("Your turn")),"BLOCKED"==e.cellStatus&&(t.classList.add("fieldFire_animation"),setTimeout(function(){t.classList.remove("fieldFire_animation"),t.classList.add("Fire")}.bind(t),1e3),this.move=!1,this.gameScene.turn("Opponent's turn")),"MsgShipIsDestroyed"==e.class&&(t.classList.add("shipFire"),this.shipDead(e,"-"),this.move=!0,this.gameScene.turn("Your turn")),!this.move){(new c.default).messageSocket(function(e){var t=e.data;t=JSON.parse(t);var n=t.class;if("MsgResultMove"==n||"MsgShipIsDestroyed"==n){1==(new d.default).getGame()?setTimeout(function(){this.fireEnemy(t)}.bind(this),1200):this.fireEnemy(t)}else if("MsgEndGame"==n)this.endGame(t);else if("MsgPing"==n){var i=new c.default;i.pingSocket()}else{debugger;console.log("Ошибка")}}.bind(this))}}},{key:"shipDead",value:function(e,t){for(var n=0;n<e.destroyedShip.length;n++)!function(n){var i=void 0;i=e.destroyedShip.isVertical?document.getElementById(e.destroyedShip.rowPos+n+t+e.destroyedShip.colPos):document.getElementById(e.destroyedShip.rowPos+t+(e.destroyedShip.colPos+n)),i.classList.remove("shipOK"),i.classList.remove("shipFire_animation"),i.classList.remove("shipFire"),i.classList.add("shipDie_animation"),setTimeout(function(){i.classList.remove("shipFire_animation"),i.classList.remove("shipFire"),i.classList.remove("shipDie_animation"),i.classList.add("shipDie")}.bind(i),1e3)}(n);for(var n=0;n<e.destroyedShip.cellsAroundShip.length;n++)!function(n){var i=void 0;i=document.getElementById(e.destroyedShip.cellsAroundShip[n].rowPos+t+e.destroyedShip.cellsAroundShip[n].colPos),i.classList.remove("Fire"),i.classList.add("fieldFire_animation"),setTimeout(function(){i.classList.remove("fieldFire_animation"),i.classList.add("Fire")}.bind(i),1e3)}(n)}},{key:"endGame",value:function(e){((new l.default).hide(),(new d.default).setScore("Score: "+e.score),e.won)?(new a.WinScene).show():(new a.LoseScene).show()}}]),e}();t.default=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(4),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t,n,r){i(this,e);var o=new a.default(document.body,"div","inline_block");t.appendChildWidget(o);var s=new a.default(document.body,"table","draggable");o.appendChildWidget(s);var l=new a.default(document.body,"td","shipX"+r);l.text=r,l.idName=n,s.appendChildWidget(l),this.shipSize=r,this.shipHP=r,this.liveFields=[],this.deadFields=[],this.turn=0}return r(e,[{key:"getSize",value:function(){return this.shipSize}},{key:"getLive",value:function(){return this.liveFields}},{key:"getDead",value:function(){return this.deadFields}},{key:"getTurn",value:function(){return this.turn}},{key:"setTurn",value:function(e){this.turn=e}},{key:"setLiveField",value:function(e){this.liveFields.push(e)}},{key:"setDeadField",value:function(e){this.deadFields.push(e),this.deleteLiveField(e)}},{key:"deleteLiveField",value:function(e){this.liveFields.splice(this.liveFields.indexOf(e),1),this.shipHP--}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(59),s=i(a),l=n(60),u=i(l),c=n(8),f=i(c),d=n(6),h=i(d),p=n(5),m=i(p),v=function(){function e(){r(this,e),this.startGameMenuController=new s.default(u.default),this.url="/startGame",this.title="Start Game"}return o(e,[{key:"show",value:function(){var e=this;f.default.getUser().then(function(t){if(0===t.status)e.startGameMenuController.show();else{(new m.default).emitEvent({type:"changeMenu",newMenuName:"/selectMode"})}}).catch(function(){(new m.default).emitEvent({type:"changeMenu",newMenuName:"/startGame/offline"}),new h.default("Offline","You have gone offline; Standalone game against bot")})}},{key:"hide",value:function(){this.startGameMenuController.hide()}}]),e}();t.default=v},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.title="Start Game",n.url="/startGame",n}return o(t,e),t}(s.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(22),a=new r.default(document.getElementsByClassName("page")[0],o,{title:"Start Game",menus:[{name:"Quick play",id:"/startGame/multiplayer"},{name:"Log-in",id:"/startGame/login"},{name:"Register",id:"/startGame/register"}]});t.default=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(17),a=n(7),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(){function e(){i(this,e),this.url="/startGame/offline"}return r(e,[{key:"show",value:function(){(0,o.startGame)(0)}},{key:"hide",value:function(){(0,o.hideUserBlock)(!1),(new s.default).hide()}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(17),s=n(7),l=i(s),u=n(13),c=i(u),f=function(){function e(){r(this,e),this.url="/startGame/online"}return o(e,[{key:"show",value:function(){(0,a.startGame)(1)}},{key:"hide",value:function(){var e=new c.default;e.getStateSocket()&&e.closeSocket(),(0,a.hideUserBlock)(!1),(new l.default).hide()}}]),e}();t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(17),s=n(7),l=i(s),u=n(13),c=i(u),f=function(){function e(){r(this,e),this.url="/startGame/multiplayer"}return o(e,[{key:"show",value:function(){(0,a.startGame)(2)}},{key:"hide",value:function(){var e=new c.default;e.getStateSocket()&&e.closeSocket(),(0,a.hideUserBlock)(!1),(new l.default).hide()}}]),e}();t.default=f},function(e,t,n){"use strict";function i(){void 0===window.orientation?setTimeout(function(){window.innerHeight>window.innerWidth&&new a.default("Rotate your device for best experience")},50):0!=window.orientation&&180!=window.orientation||new a.default("Rotate your device for best experience")}function r(){window.addEventListener("orientationchange",i)}Object.defineProperty(t,"__esModule",{value:!0}),t.OrientationChange=t.AddOrientationEvent=void 0;var o=n(6),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.AddOrientationEvent=r,t.OrientationChange=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=3,a=function(){function e(t){i(this,e),this.element=document.createElement("span"),this.element.classList.add("loading"),this.squares=[];for(var n=0;n<o;n++)this.squares.append(document.createElement("div")),this.squares[n].classList.add("loadingDice");document.body.appendChild(this.element),this.element.textContent=t,this.hide(),window.removeEventListener("resize",this.resize.bind(this))}return r(e,[{key:"show",value:function(){this.element.style.display="block",this.squares.forEach(function(e){e.display="block"}),this.resize()}},{key:"hide",value:function(){this.element.display="none",this.squares.forEach(function(e){e.display="none"})}},{key:"kill",value:function(){document.body.removeChild(this.element);for(var e=0;e<o;e++)this.element.removeChild(this.squares[e]);window.removeEventListener("resize",this.resize)}},{key:"resize",value:function(){this.element.style.top=(document.documentElement.clientHeight-this.element.clientHeight)/2+"px",this.element.style.left=(document.documentElement.clientWidth-this.element.clientWidth)/2+"px"}}]),e}();t.default=a},function(e,t,n){var i=n(67);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(1)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,".body{height:100vh;min-height:330px;min-width:300px;margin:0;font-family:Jura,sans-serif;font-weight:700;font-style:normal}",""])},function(e,t,n){"use strict";e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return e;var o;return o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(e,t,n){var i=n(70);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(1)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,'.page{height:100vh;min-height:330px;min-width:300px;margin:0;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;background-image:url("/Resources/Textures/hackers.jpg");background-size:cover;background-repeat:no-repeat;background-position-y:bottom}.page__header{height:25vh;font-size:7vh;position:static;padding-top:3vh}.page__main{height:70vh}.page__footer{height:10vh;color:#000;font-size:3vh;position:static;padding-bottom:5vh}',""])},function(e,t,n){var i=n(72);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(1)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,".all_game{height:92%;padding:2%;overflow:hidden}.draggable{cursor:pointer}.table_field_td{user-select:none;border:2px solid #1d2d3b;text-align:center;border-collapse:collapse;width:35px;height:35px}.placeShips{font-family:Indie Flower,cursive;position:absolute;left:32.7%;font-size:50px;margin:1%}.table_field{border-collapse:collapse;left:30%}.shipField,.table_field{position:absolute;top:21%}.shipField{width:27%}.display_none{display:none}.inline_block{display:inline-block}.backButton{cursor:pointer;position:absolute;top:3%;left:2%;width:230px;height:50px;font-family:Indie Flower,cursive;font-size:xx-large;font-weight:bolder;outline:0}.buttonAll{position:absolute;left:76%;top:21%}.turnButton{width:200px;height:50px;font-weight:700}.randomButton,.turnButton{cursor:pointer;font-family:Indie Flower,cursive;font-size:xx-large;position:absolute;outline:0}.randomButton{width:220px;height:93px;font-weight:bolder;top:190px}.next_button{cursor:pointer;width:180px;height:50px;font-family:Indie Flower,cursive;font-size:xx-large;font-weight:bolder;position:absolute;top:380px;outline:0}.shipX1{width:35px}.shipX1,.shipX2{user-select:none;border:3px solid green;height:35px;background-color:#3cff1f;color:transparent}.shipX2{width:74px}.shipX3{width:112px}.shipX3,.shipX4{user-select:none;border:3px solid green;height:35px;background-color:#3cff1f;color:transparent}.shipX4{width:152px}.h1_my{font-family:Indie Flower,cursive;left:16%;top:8%}.h1_my,.my_field{position:absolute}.my_field{border-collapse:collapse;left:5%;top:20.5%}.h1_enemy{font-family:Indie Flower,cursive;position:absolute;left:62%;top:8%}.enemy_field{border-collapse:collapse;position:absolute;left:51.5%;top:20.5%}.h1_turn{font-family:Indie Flower,cursive;position:absolute;top:1%;left:50%;transform:translate(-50%);-webkit-animation:mytext 2s infinite;animation:mytext 2s infinite}.h1_turn_enemy{color:#a61300}.h1_turn_my{color:#007b25}@-webkit-keyframes mytext{0%{font-size:1.95em}50%{font-size:2.1em}to{font-size:1.95em}}@keyframes mytext{0%{font-size:1.95em}50%{font-size:2.1em}to{font-size:1.95em}}.shipDie{background-color:#fd0006}.shipDie_animation{-webkit-animation:shipdie 1s infinite;animation:shipdie 1s infinite}@-webkit-keyframes shipdie{0%{background-color:#ffc500}to{background-color:#fd0006}}@keyframes shipdie{0%{background-color:#ffc500}to{background-color:#fd0006}}.shipFire{background-color:#ffc500}.shipFire_animation{-webkit-animation:shipfire 1s infinite;animation:shipfire 1s infinite}@-webkit-keyframes shipfire{0%{background-color:#0acf00}to{background-color:#ffc500}}@keyframes shipfire{0%{background-color:#0acf00}to{background-color:#ffc500}}.shipOK{background-color:#0acf00}.Fire{background-color:#7972d8}.fieldFire_animation{-webkit-animation:fieldfire 1s infinite;animation:fieldfire 1s infinite}@-webkit-keyframes fieldfire{to{background-color:#7972d8}}@keyframes fieldfire{to{background-color:#7972d8}}.youWinLose{top:40%}.score,.youWinLose{font-family:Indie Flower,cursive;position:absolute;left:50%;transform:translate(-50%,-50%);font-size:400%}.score{top:53%}",""])},function(e,t,n){var i=n(74);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(1)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,"[role=progressbar]{position:relative;padding:0;width:100px;height:25px;list-style:none}[role=progressbar] li{display:block;position:absolute;right:0;width:3px;height:50px;-webkit-transform-origin:-500%;background-color:#000;-webkit-animation:bar linear 1.9s infinite;animation:bar linear 1.9s infinite;will-change:transform}[role=progressbar] li:first-child{-webkit-transform:translateX(0) rotate(0deg);transform:translateX(0) rotate(0deg);opacity:.2}[role=progressbar] li:nth-child(2){-webkit-transform:translateX(-15px) rotate(0deg);transform:translateX(-15px) rotate(0deg);-webkit-animation-delay:-.27143s;animation-delay:-.27143s}[role=progressbar] li:nth-child(3){-webkit-transform:translateX(-30px) rotate(0deg);transform:translateX(-30px) rotate(0deg);-webkit-animation-delay:-.54286s;animation-delay:-.54286s}[role=progressbar] li:nth-child(4){-webkit-transform:translateX(-45px) rotate(10deg);transform:translateX(-45px) rotate(10deg);-webkit-animation-delay:-.81429s;animation-delay:-.81429s}[role=progressbar] li:nth-child(5){-webkit-transform:translateX(-60px) rotate(40deg);transform:translateX(-60px) rotate(40deg);-webkit-animation-delay:-1.08571s;animation-delay:-1.08571s}[role=progressbar] li:nth-child(6){-webkit-transform:translateX(-75px) rotate(62deg);transform:translateX(-75px) rotate(62deg);-webkit-animation-delay:-1.35714s;animation-delay:-1.35714s}[role=progressbar] li:nth-child(7){-webkit-transform:translateX(-90px) rotate(72deg);transform:translateX(-90px) rotate(72deg);-webkit-animation-delay:-1.62857s;animation-delay:-1.62857s}@-webkit-keyframes bar{0%{-webkit-transform:translateX(0) rotate(0deg);transform:translateX(0) rotate(0deg);opacity:0}14.28%{-webkit-transform:translateX(-15px) rotate(0deg);transform:translateX(-15px) rotate(0deg);opacity:1}28.56%{-webkit-transform:translateX(-30px) rotate(0deg);transform:translateX(-30px) rotate(0deg);opacity:1}37.12%{-webkit-transform:translateX(-39px) rotate(0deg);transform:translateX(-39px) rotate(0deg);opacity:1}42.84%{-webkit-transform:translateX(-45px) rotate(10deg);transform:translateX(-45px) rotate(10deg);opacity:1}57.12%{-webkit-transform:translateX(-60px) rotate(40deg);transform:translateX(-60px) rotate(40deg);opacity:1}71.4%{-webkit-transform:translateX(-75px) rotate(62deg);transform:translateX(-75px) rotate(62deg);opacity:1}85.68%{-webkit-transform:translateX(-90px) rotate(72deg);transform:translateX(-90px) rotate(72deg);opacity:1}to{-webkit-transform:translateX(-105px) rotate(74deg);transform:translateX(-105px) rotate(74deg);opacity:0}}@keyframes bar{0%{-webkit-transform:translateX(0) rotate(0deg);transform:translateX(0) rotate(0deg);opacity:0}14.28%{-webkit-transform:translateX(-15px) rotate(0deg);transform:translateX(-15px) rotate(0deg);opacity:1}28.56%{-webkit-transform:translateX(-30px) rotate(0deg);transform:translateX(-30px) rotate(0deg);opacity:1}37.12%{-webkit-transform:translateX(-39px) rotate(0deg);transform:translateX(-39px) rotate(0deg);opacity:1}42.84%{-webkit-transform:translateX(-45px) rotate(10deg);transform:translateX(-45px) rotate(10deg);opacity:1}57.12%{-webkit-transform:translateX(-60px) rotate(40deg);transform:translateX(-60px) rotate(40deg);opacity:1}71.4%{-webkit-transform:translateX(-75px) rotate(62deg);transform:translateX(-75px) rotate(62deg);opacity:1}85.68%{-webkit-transform:translateX(-90px) rotate(72deg);transform:translateX(-90px) rotate(72deg);opacity:1}to{-webkit-transform:translateX(-105px) rotate(74deg);transform:translateX(-105px) rotate(74deg);opacity:0}}.body_launcher{width:100%;position:absolute;top:40%;left:50%;transform:translate(-50%)}.p_p{color:#000;font-family:Indie Flower,cursive;font-size:400%}[role=progressbar]{margin:0 auto}",""])},function(e,t,n){var i=n(76);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(1)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,".flatLightGray{background-color:#f5f5f5;border:1px solid #212121;font-weight:600;font-family:Indie Flower,cursive}",""])},function(e,t,n){var i=n(78);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(1)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,".profileBlock{width:200px;height:80px;position:fixed;right:4%;top:3%;align-content:center;text-align:center}.userName,.userScore{display:none;font-weight:600;font-family:Indie Flower,cursive}h3{font-size:30px}h3,h4{margin:auto}h4{font-size:20px}",""])},function(e,t,n){var i=n(80);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(1)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,".error,.info{font-weight:600;font-family:Indie Flower,cursive;font-size:200%}.error{color:darkred}.submitButton{background-color:#f5f5f5;border:1px solid #212121;height:41px;width:120px;font-size:x-large;font-weight:600;font-family:Indie Flower,cursive}.alignCenter{margin:auto}.inputForm{width:100%;height:19px}",""])},function(e,t,n){var i=n(82);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(1)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,".aboutText{font-weight:600;font-family:Indie Flower,cursive;margin-left:auto;margin-right:auto;width:100%;text-align:center}.aboutLine{font-size:230%}",""])},function(e,t,n){var i=n(84);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(1)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,".viewTitle{font-family:Indie Flower,cursive;font-size:500%;text-align:center;margin:0;margin-bottom:1%;color:#12212a}.header2{user-select:none;font-size:5vh;padding-top:28vh}.wrapper{display:flex;flex-direction:column;justify-content:space-between;width:60vw;min-width:300px}.wrapper_menu{min-width:200px;width:30vw;align-items:center}.wrapper__header{width:100%;text-align:center}.wrapper__main{display:flex;flex-direction:column;margin-bottom:5%}.button{height:44px;font-size:15px;padding:0 16px;border:none;border-radius:100px;background:#5d6dbb;color:#fff;cursor:pointer;outline:none;width:34vw;min-width:160px;margin-bottom:10px;margin-right:5px;margin-left:5px;font-family:Jura,sans-serif;font-weight:700;font-style:normal}.button:hover{background-color:#5665a8}.button_secondary{background:#3aaacf}.button_secondary:hover{background:#3195b6}.smallButton{font-size:200%;cursor:pointer;margin-left:10px}.smallButton,.smallButton:hover{font-weight:600;font-family:Indie Flower,cursive;text-align:center}.smallButton:hover{font-size:240%}",""])},function(e,t,n){var i=n(86);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(1)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,".baseView{position:absolute}",""])},function(e,t,n){var i=n(88);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(1)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,".leaderTable{border-collapse:collapse;font-family:Indie Flower,cursive;border:1px solid #000;width:70%;margin:auto;background-color:hsla(0,0%,50%,0)}.tableHeader{background-color:#fffef6}.contents,.tableHeader{border:1px solid #212121}.contents{background-color:hsla(0,0%,50%,0)}.highlight{border:2px solid #ff4500;background-color:rgba(255,147,113,.6)}",""])},function(e,t,n){var i=n(90);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(1)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,".messageBox{font-family:Indie Flower,cursive;border:1px solid #000;background-color:#fffef6;position:absolute;align-content:center;text-align:center;padding:10px;width:auto}.messageBoxTitle{font-size:35px}.buttonMessageOK,.messageArea{font-size:x-large}.buttonMessageOK{position:relative;top:4px;width:100px;font-family:Indie Flower,cursive}",""])},function(e,t,n){var i=n(92);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0};r.transform=void 0;n(1)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,".loading{position:absolute;text-align:center;width:30%;background-color:#b1acad;border:1px solid hsla(0,4%,9%,.6)}",""])}]);